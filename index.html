<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dim Sum — Game Rules</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Karla:wght@400;700&display=swap" rel="stylesheet" />

  <style>
    /* ==========================
       Design tokens
       ========================== */
    :root {
      --bg: #faf9f7;
      --paper: #ffffff;
      --ink: #232323;
      --muted: #6b6b6b;
      --accent: #b32727; /* deep chili */
      --accent-2: #e9d9c0; /* bamboo parchment */
      --ring: 0 0 0 .2rem color-mix(in oklab, var(--accent), white 70%);
      --radius: 14px;
      --shadow-1: 0 2px 12px rgba(0,0,0,.06);
      --shadow-2: 0 8px 30px rgba(0,0,0,.08);
      --maxw: 880px;
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #0f0f10;
        --paper: #151517;
        --ink: #eaeaea;
        --muted: #a6a6a6;
        --accent: #f15b5b;
        --accent-2: #2b2b2b;
        --shadow-1: 0 2px 12px rgba(0,0,0,.45);
        --shadow-2: 0 8px 30px rgba(0,0,0,.6);
      }
    }

    /* ==========================
       Base / reset-ish
       ========================== */
    *, *::before, *::after { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: Karla, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--ink);
      background: radial-gradient(1200px 800px at 10% -10%, color-mix(in oklab, var(--accent-2), white 70%), transparent 50%),
                  radial-gradient(1000px 700px at 120% -20%, color-mix(in oklab, var(--accent-2), white 80%), transparent 60%),
                  var(--bg);
      line-height: 1.55;
      -webkit-font-smoothing: antialiased;
      text-rendering: optimizeLegibility;
    }
    a { color: var(--accent); text-underline-offset: 2px; }
    img { max-width: 100%; display: block; }

    /* ==========================
       Header / hero
       ========================== */
    .site-header {
      position: sticky;
      top: 0;
      z-index: 10;
      backdrop-filter: blur(6px);
      background: color-mix(in oklab, var(--paper), transparent 25%);
      border-bottom: 1px solid color-mix(in oklab, var(--accent-2), var(--paper) 70%);
    }
    .bar { max-width: var(--maxw); margin: 0 auto; padding: .8rem 1rem; display: flex; align-items: center; gap: .75rem; }
    .logo {
      width: 38px; height: 38px; border-radius: 50%; display: grid; place-items: center; 
      background: radial-gradient(circle at 60% 35%, #ffd6b0 0 30%, #f3c08f 40% 60%, #eab07b 61%), var(--accent);
      box-shadow: inset 0 0 0 2px color-mix(in oklab, var(--paper), black 10%), var(--shadow-1);
      color: #fff; font-size: 20px; line-height: 1; transform: rotate(-6deg);
    }
    .title-wrap { display: grid; }
    h1 {
      margin: 0;
      font: 700 1.6rem/1 Cinzel, ui-serif, Georgia, serif;
      letter-spacing: .02em;
      color: var(--accent);
    }
    .subtitle { color: var(--muted); font-size: .95rem; margin-top: .2rem; }
    .actions { margin-left: auto; display: flex; gap: .5rem; }
    .btn {
      appearance: none; border: 1px solid color-mix(in oklab, var(--accent), var(--paper) 70%);
      background: var(--paper);
      color: var(--ink);
      padding: .55rem .8rem; border-radius: 999px; cursor: pointer; 
      box-shadow: var(--shadow-1);
      transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
      font-weight: 700; font-size: .9rem;
    }
    .btn:focus-visible { outline: none; box-shadow: var(--shadow-2), var(--ring); }
    .btn:hover { transform: translateY(-1px); box-shadow: var(--shadow-2); }
    .btn.primary { background: var(--accent); color: #fff; border-color: var(--accent); }

    /* ==========================
       Layout
       ========================== */
    main { max-width: var(--maxw); margin: 1.2rem auto 4rem; padding: 0 1rem; }

    .card {
      background: var(--paper);
      border: 1px solid color-mix(in oklab, var(--accent-2), var(--paper) 60%);
      border-radius: var(--radius);
      box-shadow: var(--shadow-1);
      padding: clamp(1rem, 2.5vw, 1.5rem);
    }

    .lede {
      display: grid; grid-template-columns: 1fr; gap: 1rem; align-items: center;
    }

    .lede p { margin: 0; color: var(--muted); }

    .toc {
      margin-top: .5rem; 
      display: grid; grid-auto-flow: column; justify-content: start; gap: .75rem; flex-wrap: wrap;
    }
    .toc a {
      display: inline-flex; align-items: center; gap: .4rem;
      padding: .35rem .6rem; border-radius: 999px; text-decoration: none;
      background: color-mix(in oklab, var(--accent), var(--paper) 85%);
      color: var(--accent);
      border: 1px solid color-mix(in oklab, var(--accent), var(--paper) 70%);
      font-weight: 700; font-size: .85rem;
    }

    section { margin-top: 1.2rem; }
    section > h2 {
      font: 700 1.25rem/1.2 Cinzel, ui-serif, Georgia, serif; 
      color: var(--accent);
      margin: 0 0 .6rem;
      position: relative;
    }
    section > h2 .rule-marker {
      width: 20px; height: 20px; border-radius: 50%; display: inline-grid; place-items: center; 
      background: color-mix(in oklab, var(--accent), white 60%);
      color: #fff; font-size: .9rem; margin-right: .5rem;
      box-shadow: inset 0 0 0 2px color-mix(in oklab, var(--accent), black 30%);
    }

    ul, ol { margin: .25rem 0 .75rem 1.2rem; padding: 0; }
    li { margin: .25rem 0; }

    .hint {
      border-left: 3px solid var(--accent);
      padding: .65rem .75rem; border-radius: 10px; background: color-mix(in oklab, var(--accent), var(--paper) 90%);
      color: var(--ink);
      box-shadow: var(--shadow-1);
      font-size: .95rem;
    }

    /* Scoring Grid */
    .grid {
      display: grid; gap: .9rem; 
      grid-template-columns: repeat(12, 1fr);
    }
    .col-6 { grid-column: span 6; }
    .col-12 { grid-column: span 12; }
    @media (max-width: 680px) {
      .col-6 { grid-column: span 12; }
    }

    .score-box {
      border: 1px solid color-mix(in oklab, var(--accent-2), var(--paper) 55%);
      border-radius: 12px;
      background: linear-gradient(180deg, color-mix(in oklab, var(--paper), var(--accent-2) 8%), var(--paper));
      padding: .9rem;
      box-shadow: var(--shadow-1);
      transition: transform .15s ease, box-shadow .15s ease;
    }
    .score-box:hover { transform: translateY(-2px); box-shadow: var(--shadow-2); }

    .score-head { display: flex; align-items: center; gap: .5rem; margin-bottom: .35rem; }
    .chip {
      display: inline-grid; place-items: center; width: 28px; height: 28px; border-radius: 50%;
      background: var(--accent); color: #fff; font-weight: 700; 
      box-shadow: inset 0 0 0 2px color-mix(in oklab, var(--accent), black 30%);
      font-size: .95rem;
    }
    .score-title { font-weight: 800; letter-spacing: .02em; }
    .score-title small { color: var(--muted); font-weight: 700; margin-left: .25rem; }

    .example { font-size: .95rem; color: var(--muted); }

    /* Footer */
    footer { text-align: center; color: var(--muted); padding: 2rem 1rem 4rem; }

    /* Utilities */
    .divider { height: 1px; background: linear-gradient(90deg, transparent, color-mix(in oklab, var(--accent), var(--paper) 70%) 20%, color-mix(in oklab, var(--accent), var(--paper) 70%) 80%, transparent); margin: 1rem 0; }

    /* Print optimization */
    @media print {
      .site-header, .toc, .actions { display: none !important; }
      body { background: #fff; }
      main { margin: 0; max-width: 100%; }
      section { break-inside: avoid; }
      .card { box-shadow: none; border-color: #000; }
      a { color: #000; text-decoration: underline; }
    }

    /* Motion concerns */
    @media (prefers-reduced-motion: reduce) {
      * { transition: none !important; animation: none !important; }
    }
  </style>
</head>

<body>
  <!-- Sticky header -->
  <header class="site-header" role="banner">
    <div class="bar" aria-label="Top bar">
      <div class="logo" aria-hidden="true">🥟</div>
      <div class="title-wrap">
        <h1>Dim Sum</h1>
        <div class="subtitle">A drafting game using a standard 52‑card deck</div>
      </div>
      <div class="actions">
        <button class="btn" onclick="document.getElementById('setup').scrollIntoView({behavior:'smooth'});" aria-label="Skip to rules">Start</button>
        <button class="btn primary" onclick="window.print()" aria-label="Print these rules">Print Rules</button>
      </div>
    </div>
  </header>

  <main id="content" role="main">
    <!-- Intro / lede -->
    <div class="card lede" id="overview">
      <p><strong>Dim Sum</strong> plays over <strong>three rounds</strong>. Each round, players draft cards one at a time, then score sets and patterns across suits. After three rounds, the player with the highest total wins.</p>
      <nav class="toc" aria-label="On this page">
        <a href="#setup">Setup</a>
        <a href="#drafting">Drafting</a>
        <a href="#scoring">Scoring</a>
        <a href="#end">End of game</a>
      </nav>
    </div>

    <!-- Setup -->
    <section id="setup" class="card" aria-labelledby="setup-h">
      <h2 id="setup-h"><span class="rule-marker">1</span>Setup</h2>
      <ul>
        <li>Shuffle the entire 52‑card standard deck thoroughly.</li>
        <li>Deal cards so that each player has the same number, setting aside any remainder face-down.</li>
        <li>Play <strong>three rounds</strong>, using the entire deck each round.</li>
      </ul>
      <div class="hint" role="note"><strong>Player count:</strong> Works best at 3–5. For 2 players, consider a dummy hand: deal a third hand face‑down and burn the top card of it each pass.</div>
    </section>

    <!-- Drafting Procedure -->
    <section id="drafting" class="card" aria-labelledby="drafting-h">
      <h2 id="drafting-h"><span class="rule-marker">2</span>Drafting Procedure</h2>
      <ol>
        <li>Each player selects 1 card and places it face‑down.</li>
        <li>Pass the remaining hand to the next player.</li>
        <li>All players reveal chosen cards simultaneously.</li>
        <li>Repeat until all cards are drafted.</li>
        <li>After each round, reshuffle before the next round.</li>
      </ol>
      <div class="hint"><strong>Direction:</strong> Alternate pass direction by round (left ↔ right) to keep the table spicy.</div>
    </section>

    <!-- Scoring -->
    <section id="scoring" class="card" aria-labelledby="scoring-h">
      <h2 id="scoring-h"><span class="rule-marker">3</span>Scoring</h2>

      <div class="grid" role="list">
        <!-- Spades -->
        <article class="score-box col-6" role="listitem" aria-labelledby="s-spades-h">
          <div class="score-head">
            <div class="chip" aria-hidden="true">♠</div>
            <div class="score-title" id="s-spades-h">Spades <small>(A–10)</small></div>
          </div>
          <ul>
            <li>Count non‑face Spades (A=1, 2=2, …, 10=10).</li>
            <li>Only the player with the most Spades scores their lowest Spade's rank. Everyone else scores 0.</li>
            <li>Tie: tied players score their own lowest Spade’s value.</li>
          </ul>
        </article>

        <!-- Clubs -->
        <article class="score-box col-6" role="listitem" aria-labelledby="s-clubs-h">
          <div class="score-head">
            <div class="chip" aria-hidden="true">♣</div>
            <div class="score-title" id="s-clubs-h">Clubs <small>(A–10)</small></div>
          </div>
          <ul>
            <li>Divide Clubs: Odd (A=1,3,5,7,9) & Even (2,4,6,8,10).</li>
            <li>Each player scores equal to the size of the <em>larger</em> group -- even or odd.</li>
          </ul>
        </article>

        <!-- Diamonds -->
        <article class="score-box col-6" role="listitem" aria-labelledby="s-diamonds-h">
          <div class="score-head">
            <div class="chip" aria-hidden="true">♦</div>
            <div class="score-title" id="s-diamonds-h">Diamonds <small>(A–10)</small></div>
          </div>
          <ul>
            <li>Exactly 4 non‑face Diamonds = <strong>4 points</strong>.</li>
            <li>Otherwise = <strong>0</strong> points.</li>
          </ul>
        </article>

        <!-- Hearts -->
        <article class="score-box col-6" role="listitem" aria-labelledby="s-hearts-h">
          <div class="score-head">
            <div class="chip" aria-hidden="true">♥</div>
            <div class="score-title" id="s-hearts-h">Hearts <small>(A–10)</small></div>
          </div>
          <ul>
            <li>Sum non‑face Hearts.</li>
            <li>Points = ⌊√sum⌋ (floor of the square root).</li>
            <li class="example">Example: sum = 16 → √16 = 4 → <strong>4 points</strong>.</li>
          </ul>
        </article>

        <!-- Face cards -->
        <article class="score-box col-12" aria-labelledby="s-face-h">
          <div class="score-head">
            <div class="chip" aria-hidden="true">👑</div>
            <div class="score-title" id="s-face-h">Face Cards <small>(J, Q, K)</small></div>
          </div>
          <ul>
            <li>J = 1 point</li>
            <li>Q = 2 points</li>
            <li>K = 3 points</li>
          </ul>
        </article>

        <!-- Longest streak -->
        <article class="score-box col-12" aria-labelledby="s-streak-h">
          <div class="score-head">
            <div class="chip" aria-hidden="true">🔥</div>
            <div class="score-title" id="s-streak-h">Longest Streak</div>
          </div>
          <ul>
            <li>A streak is <strong>3+ consecutive ranks</strong> in the same suit.</li>
            <li>Only the longest streak scorer(s) get <strong>5 points</strong>.</li>
            <li>Tie: all tied players get <strong>5 points</strong> each.</li>
          </ul>
        </article>

        <!-- Four-of-a-kind -->
        <article class="score-box col-12" aria-labelledby="s-foak-h">
          <div class="score-head">
            <div class="chip" aria-hidden="true">🃏</div>
            <div class="score-title" id="s-foak-h">Four‑of‑a‑Kind</div>
          </div>
          <ul>
            <li>Four cards of the same rank = <strong>4 points</strong>.</li>
            <li>Multiple sets score separately. <span class="example">Example: four 7s = 4 points.</span></li>
          </ul>
        </article>
      </div>
    </section>

    <div class="divider" aria-hidden="true"></div>

    <!-- End of game -->
    <section id="end" class="card" aria-labelledby="end-h">
      <h2 id="end-h"><span class="rule-marker">4</span>End of the Game</h2>
      <ul>
        <li>After three rounds, sum all points from each round.</li>
        <li>Highest total score wins.</li>
      </ul>
      <div class="hint">Quick tip: Track scores per round in three columns, then add a bold total at the bottom. Your future self will thank you.</div>
    </section>

  <!-- Examples -->
  <section id="examples" class="card" aria-labelledby="examples-h">
    <h2 id="examples-h"><span class="rule-marker">5</span>Examples</h2>
    <p>Below is one sample deal of a full 52-card deck divided between four players, with complete scoring breakdowns for each.</p>

    <article>
      <h3>Random Deal and Scoring</h3>
      <p>The deck was shuffled and dealt into four 13-card hands. Each hand is scored in competition with the others for categories where relative position matters (Spades majority, longest streak).</p>
      <ol>
        <li><strong>Player 1:</strong> ♠A ♠5 ♠9 ♣2 ♣4 ♣K ♦3 ♦4 ♦5 ♥2 ♥4 ♥6 ♥Q
          <ul>
            <li><strong>Spades:</strong> 3 cards, lowest = 1 → 1 point (not majority)</li>
            <li><strong>Clubs:</strong> Odd=0, Even=2 → 2 points</li>
            <li><strong>Diamonds:</strong> 3 non-face → 0 points</li>
            <li><strong>Hearts:</strong> 2+4+6=12 → √12≈3.46 → 3 points</li>
            <li><strong>Face Cards:</strong> Q♥=2, K♣=3 → 5 points</li>
            <li><strong>Longest Streak:</strong> ♦3–♦4–♦5 (3-card) → wins streak → 5 points</li>
            <li><strong>Four-of-a-Kind:</strong> none</li>
            <li><strong>Total:</strong> 16</li>
          </ul>
        </li>
        <li><strong>Player 2:</strong> ♠2 ♠4 ♠J ♠K ♣3 ♣5 ♣7 ♦2 ♦6 ♥3 ♥5 ♥7 ♥9
          <ul>
            <li><strong>Spades:</strong> 4 cards, lowest=2 → wins majority → 2 points</li>
            <li><strong>Clubs:</strong> Odd=3,5,7 → 3 cards, Even=0 → 3 points</li>
            <li><strong>Diamonds:</strong> 2 non-face → 0 points</li>
            <li><strong>Hearts:</strong> 3+5+7+9=24 → √24≈4.89 → 4 points</li>
            <li><strong>Face Cards:</strong> J♠=1, K♠=3 → 4 points</li>
            <li><strong>Longest Streak:</strong> none → 0 points</li>
            <li><strong>Four-of-a-Kind:</strong> none</li>
            <li><strong>Total:</strong> 13</li>
          </ul>
        </li>
        <li><strong>Player 3:</strong> ♠3 ♠6 ♣6 ♣8 ♣9 ♦7 ♦8 ♦9 ♥8 ♥10 ♥J ♥K ♥A
          <ul>
            <li><strong>Spades:</strong> 2 cards → 0 points (not majority)</li>
            <li><strong>Clubs:</strong> Odd=9, Even=6,8 → larger=2 → 2 points</li>
            <li><strong>Diamonds:</strong> 3 non-face → 0 points</li>
            <li><strong>Hearts:</strong> 8+10=18 → √18≈4.24 → 4 points</li>
            <li><strong>Face Cards:</strong> J♥=1, K♥=3 → 4 points</li>
            <li><strong>Longest Streak:</strong> ♦7–♦8–♦9 (3-card) → tie for streak → 5 points</li>
            <li><strong>Four-of-a-Kind:</strong> none</li>
            <li><strong>Total:</strong> 15</li>
          </ul>
        </li>
        <li><strong>Player 4:</strong> ♠7 ♠8 ♠10 ♣10 ♦A ♦10 ♦Q ♥Q ♥K ♥5 ♥6 ♥7 ♥8
          <ul>
            <li><strong>Spades:</strong> 3 cards → 0 points (not majority)</li>
            <li><strong>Clubs:</strong> Odd=0, Even=10 → 1 card → 1 point</li>
            <li><strong>Diamonds:</strong> 2 non-face → 0 points</li>
            <li><strong>Hearts:</strong> 5+6+7+8=26 → √26≈5.09 → 5 points</li>
            <li><strong>Face Cards:</strong> Q♦=2, Q♥=2, K♥=3 → 7 points</li>
            <li><strong>Longest Streak:</strong> none → 0 points</li>
            <li><strong>Four-of-a-Kind:</strong> none</li>
            <li><strong>Total:</strong> 13</li>
          </ul>
        </li>
      </ol>
      <p><strong>Result:</strong> Player 1 wins with 16 points.</p>
    </article>
  </section>
    
    <footer aria-label="Footer">
      Enjoy your Dim Sum! 🥟🃏
    </footer>
  </main>

  <script>
    // Respect reduced motion when smoothing
    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if (prefersReducedMotion) {
      for (const a of document.querySelectorAll('a[href^="#"]')) {
        a.addEventListener('click', (e) => {
          const id = a.getAttribute('href');
          const el = document.querySelector(id);
          if (el) { e.preventDefault(); el.scrollIntoView(); }
        });
      }
    }
  </script>
</body>
</html>
